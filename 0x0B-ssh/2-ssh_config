#!/usr/bin/env bash
# configures the server

SSH_CONFIG_FILE="$HOME/.ssh/config"
PRIVATE_KEY="$HOME/.ssh/school"
SERVER_ALIAS="myschoolserver"
SERVER_IP="52.207.207.251"
USERNAME="ubuntu"

# Create the .ssh directory if it doesn't exist
mkdir -p "$HOME/.ssh"

# Create or update the SSH config file
{
    echo "Host $SERVER_ALIAS"
    echo "    HostName $SERVER_IP"
    echo "    User $USERNAME"
    echo "    IdentityFile $PRIVATE_KEY"
    echo "    PasswordAuthentication no"
} >> "$SSH_CONFIG_FILE"

# Set the correct permissions for the SSH config file
chmod 600 "$SSH_CONFIG_FILE"
